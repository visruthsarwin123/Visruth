<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lesson Video</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/style.css" rel="stylesheet">
</head>
<body class="bg-animated">
  <div class="container py-5">
    <a href="dashboard.html" class="btn btn-light mb-4">&larr; Back to Dashboard</a>
    <div class="card p-4 shadow-lg">
      <h2 id="lessonTitle" class="fw-bold mb-3"></h2>
      <div class="ratio ratio-16x9 mb-4">
        <iframe id="lessonVideoFrame" src="" allowfullscreen allow="autoplay; encrypted-media"></iframe>
      </div>
      <div id="lessonDetails" class="text-muted"></div>
    </div>
  </div>
  <script>
    // Parse query params
    const params = new URLSearchParams(window.location.search);
    const title = params.get('title') || 'Lesson Video';
    const video = params.get('video') || '';
    const details = params.get('details') || '';
    document.getElementById('lessonTitle').textContent = title;
    document.getElementById('lessonVideoFrame').src = video;
    document.getElementById('lessonDetails').textContent = details;
    // Save last watched lesson to localStorage
    localStorage.setItem('lastWatchedLesson', title);
    // Save completed lessons to localStorage
    let completed = JSON.parse(localStorage.getItem('completedLessons') || '[]');
    if (!completed.includes(title)) {
      completed.push(title);
      localStorage.setItem('completedLessons', JSON.stringify(completed));
    }
  </script>
</body>
</html> 